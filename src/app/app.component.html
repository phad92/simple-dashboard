<div class="app-layout" [class.sidebar-collapsed]="sidebarCollapsed">
  <!-- Sidebar -->
  <aside class="sidebar">
    <!-- Logo Section -->
    <div class="sidebar-header">
      <div class="logo">
        <div class="logo-icon">
          <i class="pi pi-chart-bar"></i>
        </div>
        <span class="logo-text" *ngIf="!sidebarCollapsed">NHIA Portal</span>
      </div>
      <button class="collapse-btn" (click)="toggleSidebar()">
        <i class="pi" [class]="sidebarCollapsed ? 'pi-angle-right' : 'pi-angle-left'"></i>
      </button>
    </div>

    <!-- Main Navigation -->
    <nav class="sidebar-nav">
      <div class="nav-section">
        <span class="nav-section-label" *ngIf="!sidebarCollapsed">Main</span>
        @for (item of mainNavItems; track item.route) {
        <a [routerLink]="item.route" routerLinkActive="active" [routerLinkActiveOptions]="{exact: item.route === '/'}"
          class="nav-item">
          <i class="pi" [class]="item.icon"></i>
          <span class="nav-label" *ngIf="!sidebarCollapsed">{{ item.label }}</span>
          @if (item.badge && !sidebarCollapsed) {
          <span class="nav-badge">{{ item.badge }}</span>
          }
        </a>
        }
      </div>

      <div class="nav-section">
        <span class="nav-section-label" *ngIf="!sidebarCollapsed">Analytics</span>
        @for (item of secondaryNavItems; track item.route) {
        <a [routerLink]="item.route" routerLinkActive="active" class="nav-item">
          <i class="pi" [class]="item.icon"></i>
          <span class="nav-label" *ngIf="!sidebarCollapsed">{{ item.label }}</span>
        </a>
        }
      </div>
    </nav>

    <!-- Bottom Navigation -->
    <div class="sidebar-footer">
      @for (item of bottomNavItems; track item.route) {
      <a [routerLink]="item.route" routerLinkActive="active" class="nav-item">
        <i class="pi" [class]="item.icon"></i>
        <span class="nav-label" *ngIf="!sidebarCollapsed">{{ item.label }}</span>
      </a>
      }

      <!-- User Profile -->
      <div class="user-profile" *ngIf="!sidebarCollapsed">
        <div class="user-avatar">
          <i class="pi pi-user"></i>
        </div>
        <div class="user-info">
          <span class="user-name">Admin User</span>
          <span class="user-role">Administrator</span>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Content Area -->
  <div class="main-content">
    <!-- Top Header Bar -->
    <header class="top-header">
      <div class="header-left">
        <button class="mobile-menu-btn" (click)="toggleSidebar()">
          <i class="pi pi-bars"></i>
        </button>
        <div class="search-box">
          <i class="pi pi-search"></i>
          <input type="text" placeholder="Search anything...">
        </div>
      </div>
      <div class="header-right">
        <span class="header-date">{{ currentDate | date:'EEEE, MMM d, yyyy' }}</span>
        <button class="header-btn">
          <i class="pi pi-bell"></i>
          <span class="notification-dot"></span>
        </button>
        <button class="header-btn">
          <i class="pi pi-cog"></i>
        </button>
        <div class="header-avatar">
          <i class="pi pi-user"></i>
        </div>
      </div>
    </header>

    <!-- Page Content -->
    <main class="page-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>